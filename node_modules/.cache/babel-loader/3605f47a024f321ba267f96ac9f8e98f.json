{"ast":null,"code":"var _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$(),\n    _s5 = $RefreshSig$();\n\nimport { useEffect, useState, useRef, useCallback } from \"react\";\nexport function useFirestoreQuery(query) {\n  _s();\n\n  const [docs, setDocs] = useState([]);\n  const queryRef = useRef(query);\n  useEffect(() => {\n    var _queryRef$curent;\n\n    if (!(queryRef === null || queryRef === void 0 ? void 0 : (_queryRef$curent = queryRef.curent) === null || _queryRef$curent === void 0 ? void 0 : _queryRef$curent.isEqual(query))) {\n      queryRef.current = query;\n    }\n  });\n  useEffect(() => {\n    if (!queryRef.current) {\n      return null;\n    }\n\n    const unsubscribe = queryRef.current.onSnapshot(querySnapshot => {\n      const data = querySnapshot.docs.map(doc => ({ ...doc.data(),\n        id: doc.id\n      }));\n      setDocs(data);\n    });\n    return unsubscribe;\n  }, [queryRef]);\n  return docs;\n}\n\n_s(useFirestoreQuery, \"Re5UcHB+INAeXTC2rNtMGWgiZSw=\");\n\nexport function useAuthState(auth) {\n  _s2();\n\n  const [initializing, setInitializing] = useState(true);\n  const [user, setUser] = useState(() => auth.currentUser);\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(user => {\n      if (user) {\n        setUser(user);\n      } else {\n        setUser(false);\n      }\n\n      if (initializing) {\n        setInitializing(false);\n      }\n    });\n    return unsubscribe;\n  }, [auth, initializing]);\n  return {\n    user,\n    initializing\n  };\n}\n\n_s2(useAuthState, \"1y5OXjZSOZEq7yaIlGqOitqtnTg=\");\n\nexport function useLocalStorage(key, initialValue) {\n  _s3();\n\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      const item = window.localStorage.getItem(key);\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      console.log(error);\n      return initialValue;\n    }\n  });\n\n  const setValue = value => {\n    try {\n      const valueToStore = value instanceof Function ? value(storedValue) : value;\n      setStoredValue(valueToStore);\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return [storedValue, setValue];\n}\n\n_s3(useLocalStorage, \"HqU6dnvQtog7kosdKsBHZq7wo3Q=\");\n\nexport function useMedia(queries, values, defaultValue) {\n  _s4();\n\n  const mediaQueryLists = queries.map(q => window.matchMedia(q));\n  const getValue = useCallback(() => {\n    const index = mediaQueryLists.findIndex(mql => mql.matches);\n    return typeof values[index] !== \"undefined\" ? values[index] : defaultValue;\n  }, [mediaQueryLists, values, defaultValue]);\n  const [value, setValue] = useState(getValue);\n  useEffect(() => {\n    const handler = () => setValue(getValue);\n\n    mediaQueryLists.forEach(mql => mql.addListener(handler));\n    return () => mediaQueryLists.forEach(mql => mql.removeListener(handler));\n  }, [getValue, mediaQueryLists]);\n  return value;\n}\n\n_s4(useMedia, \"e+PQ5vNDHpJn//CUrGMhOOWZeEw=\");\n\nexport function useDarkMode() {\n  _s5();\n\n  const prefersDarkMode = useMedia([\"(prefers-color-scheme: dark)\"], [true], false);\n  const [enabled, setEnabled] = useLocalStorage(\"dark-mode-enabled\", prefersDarkMode);\n  useEffect(() => {\n    const className = \"dark\";\n    const element = window.document.body;\n\n    if (enabled) {\n      element.classList.add(className);\n    } else {\n      element.classList.remove(className);\n    }\n  }, [enabled]);\n  return [enabled, setEnabled];\n}\n\n_s5(useDarkMode, \"A4e7DHAPR7cIAoKN75jTiwgtryE=\", false, function () {\n  return [useMedia, useLocalStorage];\n});","map":{"version":3,"sources":["C:/Users/Yadav/Downloads/react-firechat-master/src/hooks.js"],"names":["useEffect","useState","useRef","useCallback","useFirestoreQuery","query","docs","setDocs","queryRef","curent","isEqual","current","unsubscribe","onSnapshot","querySnapshot","data","map","doc","id","useAuthState","auth","initializing","setInitializing","user","setUser","currentUser","onAuthStateChanged","useLocalStorage","key","initialValue","storedValue","setStoredValue","item","window","localStorage","getItem","JSON","parse","error","console","log","setValue","value","valueToStore","Function","setItem","stringify","useMedia","queries","values","defaultValue","mediaQueryLists","q","matchMedia","getValue","index","findIndex","mql","matches","handler","forEach","addListener","removeListener","useDarkMode","prefersDarkMode","enabled","setEnabled","className","element","document","body","classList","add","remove"],"mappings":"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","sourcesContent":["import { useEffect, useState, useRef, useCallback } from \"react\";\n\nexport function useFirestoreQuery(query) {\n  const [docs, setDocs] = useState([]);\n\n  const queryRef = useRef(query);\n\n  useEffect(() => {\n    if (!queryRef?.curent?.isEqual(query)) {\n      queryRef.current = query;\n    }\n  });\n\n  useEffect(() => {\n    if (!queryRef.current) {\n      return null;\n    }\n\n    const unsubscribe = queryRef.current.onSnapshot((querySnapshot) => {\n      const data = querySnapshot.docs.map((doc) => ({\n        ...doc.data(),\n        id: doc.id,\n      }));\n\n      setDocs(data);\n    });\n\n    return unsubscribe;\n  }, [queryRef]);\n\n  return docs;\n}\n\nexport function useAuthState(auth) {\n  const [initializing, setInitializing] = useState(true);\n  const [user, setUser] = useState(() => auth.currentUser);\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged((user) => {\n      if (user) {\n        setUser(user);\n      } else {\n        setUser(false);\n      }\n      if (initializing) {\n        setInitializing(false);\n      }\n    });\n\n    return unsubscribe;\n  }, [auth, initializing]);\n\n  return { user, initializing };\n}\n\nexport function useLocalStorage(key, initialValue) {\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      const item = window.localStorage.getItem(key);\n\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      console.log(error);\n      return initialValue;\n    }\n  });\n\n  const setValue = (value) => {\n    try {\n      const valueToStore =\n        value instanceof Function ? value(storedValue) : value;\n\n      setStoredValue(valueToStore);\n\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return [storedValue, setValue];\n}\n\nexport function useMedia(queries, values, defaultValue) {\n  const mediaQueryLists = queries.map((q) => window.matchMedia(q));\n\n  const getValue = useCallback(() => {\n    const index = mediaQueryLists.findIndex((mql) => mql.matches);\n    return typeof values[index] !== \"undefined\" ? values[index] : defaultValue;\n  }, [mediaQueryLists, values, defaultValue]);\n\n  const [value, setValue] = useState(getValue);\n\n  useEffect(() => {\n    const handler = () => setValue(getValue);\n\n    mediaQueryLists.forEach((mql) => mql.addListener(handler));\n\n    return () => mediaQueryLists.forEach((mql) => mql.removeListener(handler));\n  }, [getValue, mediaQueryLists]);\n\n  return value;\n}\n\nexport function useDarkMode() {\n  const prefersDarkMode = useMedia(\n    [\"(prefers-color-scheme: dark)\"],\n    [true],\n    false\n  );\n\n  const [enabled, setEnabled] = useLocalStorage(\n    \"dark-mode-enabled\",\n    prefersDarkMode\n  );\n\n  useEffect(() => {\n    const className = \"dark\";\n    const element = window.document.body;\n    if (enabled) {\n      element.classList.add(className);\n    } else {\n      element.classList.remove(className);\n    }\n  }, [enabled]);\n\n  return [enabled, setEnabled];\n}\n"]},"metadata":{},"sourceType":"module"}